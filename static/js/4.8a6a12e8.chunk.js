(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[4],{43:function(e,t,c){e.exports={quote:"HighlightedQuote_quote__20COh"}},44:function(e,t,c){e.exports={comments:"Comments_comments__3Kj53"}},45:function(e,t,c){e.exports={form:"NewCommentForm_form__3DYYN",loading:"NewCommentForm_loading__18WG2",invalid:"NewCommentForm_invalid__1fma6",control:"NewCommentForm_control__39wqF",actions:"NewCommentForm_actions__Bk3iU"}},46:function(e,t,c){e.exports={item:"CommentItem_item__2nnLE"}},47:function(e,t,c){e.exports={comments:"CommentsList_comments__7eRe9"}},53:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return k}));var n=c(36),s=c(35),o=c(0),a=c(2),m=c(9),r=c(43),i=c.n(r),j=c(1),d=function(e){return Object(j.jsxs)("figure",{className:i.a.quote,children:[Object(j.jsx)("p",{children:e.text}),Object(j.jsx)("figcaption",{children:e.author})]})},u=c(44),l=c.n(u),b=c(33),O=c(34),x=c(13),f=c(45),h=c.n(f),p=function(e){var t=Object(o.useRef)(),c=Object(b.a)(O.a),n=c.sendRequest,s=c.status,a=c.error,m=e.onAddedComment;Object(o.useEffect)((function(){"completed"!==s||a||m()}),[s,a,m]);var r=function(c){c.preventDefault();var s=t.current.value;""!==s&&n({commentData:{text:s},quoteId:e.quoteId})};return Object(j.jsxs)("form",{className:h.a.form,onSubmit:r,children:["pending"===s&&Object(j.jsx)("div",{className:"centered",children:Object(j.jsx)(x.a,{})}),Object(j.jsxs)("div",{className:h.a.control,onSubmit:r,children:[Object(j.jsx)("label",{htmlFor:"comment",children:"Your Comment"}),Object(j.jsx)("textarea",{id:"comment",rows:"5",ref:t})]}),Object(j.jsx)("div",{className:h.a.actions,children:Object(j.jsx)("button",{className:"btn",children:"Add Comment"})})]})},_=c(46),N=c.n(_),C=function(e){return Object(j.jsx)("li",{className:N.a.item,children:Object(j.jsx)("p",{children:e.text})})},v=c(47),q=c.n(v),g=function(e){return Object(j.jsx)("ul",{className:q.a.comments,children:e.comments.map((function(e){return Object(j.jsx)(C,{text:e.text},e.id)}))})},w=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),c=t[0],n=t[1],m=Object(a.j)().quoteId,r=Object(b.a)(O.c),i=r.sendRequest,d=r.status,u=r.data;Object(o.useEffect)((function(){i(m)}),[m,i]);var f,h=Object(o.useCallback)((function(){i(m)}),[i,m]);return"pending"===d&&(f=Object(j.jsx)("div",{className:"centered",children:Object(j.jsx)(x.a,{})})),"completed"===d&&u&&u.length>0&&(f=Object(j.jsx)(g,{comments:u})),"completed"!==d||u&&0!==u.length||(f=Object(j.jsx)("p",{className:"centered",children:"No comments were added yet!"})),Object(j.jsxs)("section",{className:l.a.comments,children:[Object(j.jsx)("h2",{children:"User Comments"}),c&&Object(j.jsx)("button",{className:"btn",onClick:function(){n(!0)},children:"Add a Comment"}),!c&&Object(j.jsx)(p,{quoteId:m,onAddedComment:h}),f]})};function k(e){e.quotes;var t=Object(a.j)().quoteId,c=Object(a.k)(),r=Object(o.useState)(!0),i=Object(s.a)(r,2),u=i[0],l=i[1],f=Object(b.a)(O.e,!0),h=f.sendRequest,p=f.status,_=f.data,N=f.error;return Object(o.useEffect)((function(){h(t)}),[h,t]),"pending"===p?Object(j.jsx)("div",{className:"centered",children:Object(j.jsx)(x.a,{})}):N?Object(j.jsx)("p",{className:"centered focused",children:N}):_.text?Object(j.jsxs)("div",{children:[Object(j.jsx)("h3",{children:"QuoteDetails"}),Object(j.jsx)(d,Object(n.a)({},_)),Object(j.jsx)(a.c,{to:"".concat(c.path),exact:!0,children:u&&Object(j.jsx)("div",{className:"centered",children:Object(j.jsx)(m.b,{className:"btn--flat",to:"".concat(c.url,"/comments"),onClick:function(){l(!1)},children:"Load Comments"})})}),Object(j.jsx)(a.c,{path:"".concat(c.path,"/comments"),exact:!0,children:Object(j.jsx)(w,{quoteId:t})})]}):Object(j.jsx)("p",{children:"No quotes found !"})}}}]);
//# sourceMappingURL=4.8a6a12e8.chunk.js.map